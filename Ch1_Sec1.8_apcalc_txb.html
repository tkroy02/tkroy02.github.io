<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Section 1.8 – Piecewise Functions</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    /* Global box-sizing for all elements */
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      line-height: 1.6;
      background: #ffffff;
      color: #00274d;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    
    /* Styles for dynamically loaded components */
    #header-placeholder, #footer-placeholder {
      width: 100%;
    }

    /* Main page layout */
    .page-container {
      display: flex;
      flex-grow: 1;
    }
    
    .sidebar {
      width: 250px;
      background: #00274d;
      color: white;
      padding: 20px;
      box-sizing: border-box;
      flex-shrink: 0;
      overflow-y: auto;
      max-height: 100vh;
    }
    
    .sidebar h3 {
      color: white;
      margin-top: 0;
    }
    
    .sidebar ul {
      list-style-type: none;
      padding: 0;
    }
    
    .sidebar ul li a {
      display: block;
      padding: 10px;
      color: #c0c0c0;
      text-decoration: none;
      border-bottom: 1px solid #0056b3;
    }
    
    .sidebar ul li a:hover {
      background: #0056b3;
      color: white;
    }
    
    .sidebar ul li a.active {
      background: #0056b3;
      color: white;
      font-weight: bold;
    }
    
    header {
      background: #00274d;
      color: white;
      padding: 20px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    header img {
      height: 50px;
      flex-shrink: 0;
    }
    
    header h1 {
      margin: 0;
      font-size: 1.8em;
      color: white;
      text-align: center;
      flex-grow: 1;
      flex-shrink: 1;
      min-width: 0;
      padding: 0 10px;
    }
    
    header a.home-link {
      color: white;
      text-decoration: none;
      font-size: 1em;
      background: #0056b3;
      padding: 6px 12px;
      border-radius: 6px;
      flex-shrink: 0;
    }
    
    header a.home-link:hover {
      background: #0073e6;
    }
    
    .footer {
      background: #00274d;
      color: white;
      text-align: center;
      padding: 20px;
      width: 100%;
      flex-shrink: 0; /* Ensures the footer doesn't shrink when content is long */
    }

    .main-content {
      flex-grow: 1;
    }
    
    .container {
      padding: 20px;
      max-width: 900px;
      margin: auto;
      margin-top: 0;
    }
    
    h2 {
      color: #0056b3;
      border-bottom: 2px solid #0056b3;
      padding-bottom: 5px;
    }
    
    h3 {
      color: #0056b3;
    }
    
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin: 30px auto;
    }
    
    .nav-btn {
      background: #0056b3;
      color: white;
      padding: 12px 25px;
      border-radius: 8px;
      text-decoration: none;
      font-size: 1.1em;
    }
    
    .nav-btn:hover {
      background: #0073e6;
    }
    
    .example, .tip, .check {
      background: #f0f8ff;
      border-left: 5px solid #0056b3;
      padding: 10px;
      margin: 15px 0;
      border-radius: 8px;
    }
    
    .check p {
      font-size: 1.2em;
    }
    
    .solution {
      display: none;
      background: #e6f2ff;
      border: 1px solid #0056b3;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
    }
    
    .show-solution-btn {
      background: #0056b3;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    
    .show-solution-btn:hover {
      background: #0073e6;
    }

    /* Responsive design for tablets and mobile devices */
    @media (max-width: 768px) {
      .page-container {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        max-height: none;
        order: -1; /* Puts the sidebar at the top on small screens */
      }
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <div class="page-container">
    <div id="sidebar-placeholder"></div>

    <div class="main-content">
      <div class="container">
        <h2>1. What is a Piecewise Function?</h2>
        <p>A **piecewise function** is a function that is defined by multiple sub-functions, each of which applies to a different interval of the main function's domain. Think of it as a set of rules, where you choose the right rule based on the value of the input.</p>
        <p>Here is the general form of a piecewise function:</p>
        \[
        f(x) = \begin{cases}
        g(x) & \text{if } x < c \\
        h(x) & \text{if } x \geq c
        \end{cases}
        \]
        <p>In this example, \( g(x) \) is the rule to follow for all \( x \) values less than \( c \), and \( h(x) \) is the rule for all \( x \) values greater than or equal to \( c \).</p>
    
        <h2>2. Limits and Continuity</h2>
        <p>Piecewise functions are a great way to explore the concepts of limits and continuity. The most important place to check for continuity is at the **critical point**, or the "break point" where the function's rule changes (like at \( x=c \) in the example above).</p>
        <p>To determine if a piecewise function is continuous at a critical point, you must check the three conditions of continuity:</p>
        <ol>
          <li><strong>Left-hand limit:</strong> Does the function approach a specific value as it comes from the left?</li>
          <li><strong>Right-hand limit:</strong> Does the function approach a specific value as it comes from the right?</li>
          <li><strong>Function value:</strong> Is the function defined at that point, and does it equal the limit?</li>
        </ol>
        <p>If the left-hand limit and the right-hand limit are equal, and that value also equals the function value at the critical point, then the function is continuous there. Otherwise, it is discontinuous.</p>
    
        <h2>3. Check Yourself</h2>
        <p>Determine the continuity and evaluate the following piecewise functions.</p>
    
        <div class="tip">
          <p><strong>Choosing the Correct Rule:</strong> When a problem asks you to evaluate a piecewise function at a specific point, always check the inequality symbols. The rule with the "or equal to" sign (\( \leq \) or \( \geq \)) is the one to use for the exact value of the critical point.</p>
        </div>
    
        <div class="check">
          <p><strong>Question 1:</strong> Evaluate \( f(3) \) and determine if the function is continuous at \( x=3 \) for the function:</p>
          \[
          f(x) = \begin{cases}
          x^2 & \text{if } x < 3 \\
          2x+3 & \text{if } x \geq 3
          \end{cases}
          \]
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p>First, we evaluate the function at \( x=3 \) and the right-hand limit, since both use the same rule:</p>
            <p>Function value: \( f(3) = 2(3)+3 = 9 \)</p>
            <p>Right-hand limit: \( \lim_{x \to 3^+} f(x) = \lim_{x \to 3^+} (2x+3) = 2(3)+3 = 9 \)</p>
            <p>Next, we check the left-hand limit to see if it matches:</p>
            <p>Left-hand limit: \( \lim_{x \to 3^-} f(x) = \lim_{x \to 3^-} (x^2) = (3)^2 = 9 \)</p>
            <p>Since the left-hand limit (\(9\)), the right-hand limit (\(9\)), and the function value (\(9\)) are all equal, the three conditions for continuity are met. The function is **continuous** at \( x=3 \).</p>
          </div>
        </div>
    
        <div class="check">
          <p><strong>Question 2:</strong> Find \( \lim_{x \to 2} g(x) \) and determine if \( g(x) \) is continuous at \( x=2 \) for the function:</p>
          \[
          g(x) = \begin{cases}
          x^2+1 & \text{if } x < 2 \\
          3x-1 & \text{if } x \geq 2
          \end{cases}
          \]
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p>We must check the left-hand and right-hand limits.</p>
            <p>Left-hand limit: \( \lim_{x \to 2^-} g(x) = \lim_{x \to 2^-} (x^2+1) = (2)^2+1 = 5 \)</p>
            <p>Right-hand limit: \( \lim_{x \to 2^+} g(x) = \lim_{x \to 2^+} (3x-1) = 3(2)-1 = 5 \)</p>
            <p>Since the left-hand limit equals the right-hand limit, the overall limit exists and is 5. We also check the function value at \( x=2 \): \( g(2) = 3(2)-1 = 5 \).</p>
            <p>Because \( \lim_{x \to 2} g(x) = g(2) \), the function is **continuous** at \( x=2 \).</p>
          </div>
        </div>
    
        <div class="check">
          <p><strong>Question 3:</strong> Find the value of the constant \( a \) that makes the function continuous for all real numbers.</p>
          \[
          h(x) = \begin{cases}
          ax-1 & \text{if } x < 3 \\
          2x+5 & \text{if } x \geq 3
          \end{cases}
          \]
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p><strong>For the function to be continuous at the critical point \( x=3 \), the left-hand and right-hand limits must be equal.</strong></p>
            \[
            \lim_{x \to 3^-} (ax-1) = \lim_{x \to 3^+} (2x+5)
            \]
            \[
            a(3)-1 = 2(3)+5
            \]
            \[
            3a-1 = 6+5
            \]
            \[
            3a-1 = 11
            \]
            \[
            3a = 12
            \]
            \[
            a = 4
            \]
          </div>
        </div>
    
        <div class="nav-buttons">
          <a href="Ch1_Sec1.7_apcalc_txb.html" class="nav-btn">Back ⬅</a>
          <a href="Ch1_Sec1.9_apcalc_txb.html" class="nav-btn">Next ➡</a>
        </div>
      </div>
    </div>
  </div>

  <div id="footer-placeholder"></div>

  <script>
    function toggleSolution(button) {
      const solution = button.nextElementSibling;
      if (solution.style.display === "none" || solution.style.display === "") {
        solution.style.display = "block";
        button.textContent = "Hide Solution";
      } else {
        solution.style.display = "none";
        button.textContent = "Show Solution";
      }
    }

    async function loadComponent(url, elementId) {
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error(`Failed to load ${url}: ${response.status}`);
        const html = await response.text();
        document.getElementById(elementId).innerHTML = html;
      } catch (err) {
        console.error(err);
        document.getElementById(elementId).innerHTML = `<p style="color:red;">Error loading component: ${url}</p>`;
      }
    }

    // Fetch header, sidebar, and footer
    loadComponent('textbookheader.html', 'header-placeholder');
    loadComponent('textbooksidebar.html', 'sidebar-placeholder');
    loadComponent('textbookfooter.html', 'footer-placeholder');
  </script>
</body>
</html>