
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AP Biology Quiz – Tklesson</title>

<link rel="canonical" href="https://tklesson.com/" />
<link rel="icon" type="image/png" sizes="16x16" href="/Tklesson1-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/Tklesson1-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/Tklesson1-48x48.png">
<link rel="icon" type="image/png" sizes="64x64" href="/Tklesson1-64x64.png">
<link rel="icon" type="image/png" sizes="192x192" href="/Tklesson1-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/Tklesson1-512x512.png">
<link rel="apple-touch-icon" href="/Tklesson1-192x192.png">
<meta name="theme-color" content="#ffffff">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99H54WVS80"></script>
<script>
  window.addEventListener('load', function() {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-99H54WVS80');
  });
</script>

<style>
body { font-family: Arial, sans-serif; background: #f0f8ff; margin:0; padding:0; }
header { background: #01579b; color: white; padding: 15px; text-align: center; }
header img { max-height: 60px; vertical-align: middle; margin-right: 10px; }
h1 { display: inline; font-size: 2em; }
h2 { font-size: 1.2em; font-weight: normal; color: #e1f5fe; margin-top: 5px; }
.quiz-container { max-width: 900px; margin: 30px auto; padding: 25px; background: white; border-radius: 12px; box-shadow: 0 0 15px #555; }
.question { margin-bottom: 20px; padding: 10px; border-radius: 8px; background: #e1f5fe; }
.question p { font-weight: bold; }
.options label { display: block; margin-bottom: 5px; }
input[type="text"], input[type="email"] { width: 100%; padding: 6px; margin-top: 5px; border-radius: 4px; border: 1px solid #ccc; }
button { background-color: #0288d1; color: white; padding: 10px 25px; border: none; cursor: pointer; font-size: 1em; border-radius: 5px; margin-top: 10px; margin-right: 10px; }
button:hover { background-color: #01579b; }
.correct { background-color: #c8e6c9; }
.wrong { background-color: #ffcdd2; }
#score { font-size: 1.3em; font-weight: bold; margin-top: 15px; }
.timer { text-align: right; font-weight: bold; margin-bottom: 15px; }
.email-container { margin-bottom: 15px; }
#submission-message { margin-top: 10px; font-weight: bold; color: #01579b; }
</style>
</head>
<body>

<header>
    <img src="Tklesson1.png" alt="Tklesson Logo">
    <h1>AP Biology Quiz – Tklesson</h1>
    <h2>AP Biology Quiz</h2>
</header>

<div class="quiz-container">
    <div class="email-container">
        <label for="name">Enter your name (required):</label>
        <input type="text" id="name" placeholder="Your name" required>
    </div>
    <div class="email-container">
        <label for="email">Enter your email (required):</label>
        <input type="email" id="email" placeholder="you@example.com" required>
    </div>

    <div class="timer" id="timer">45:00</div>
    <div id="quiz-container"></div>

    <div class="button-row">
        <button id="submitBtn" onclick="checkAnswers()">Submit</button>
        <button id="restartBtn" onclick="restartQuiz()">Restart Quiz</button>
    </div>

    <div id="score"></div>
    <div id="submission-message"></div>
</div>

<script>
// === Questions ===
const questions = [
  {type:'mcq', q:"Which statement best illustrates the 'unity of life'?", options:["All organisms look the same at birth","All organisms live in the same habitat","All organisms use DNA to store genetic information","All organisms reproduce asexually"], answer:"All organisms use DNA to store genetic information"},
  {type:'mcq', q:"The biosphere is defined as:", options:["The global sum of all ecosystems where life exists","The top layer of Earth's crust only","All the deserts on Earth","The portion of Earth that contains only plants"], answer:"The global sum of all ecosystems where life exists"},
  {type:'mcq', q:"Catabolism refers to:", options:["Building complex molecules from simple ones","Breaking down molecules to release energy","Storing genetic information in DNA","The movement of water through plant xylem"], answer:"Breaking down molecules to release energy"},
  {type:'mcq', q:"ATP is important because it:", options:["Is stored long-term in fat cells as an energy reserve","Is the main structural component of the cell membrane","Is a type of carbohydrate used for cell walls","Serves as the immediate energy currency for cellular processes"], answer:"Serves as the immediate energy currency for cellular processes"},
  {type:'mcq', q:"Which property of water causes surface tension?", options:["Cohesion between water molecules (hydrogen bonding)","High solubility of ionic compounds","Low specific heat capacity","Hydrophobic interactions"], answer:"Cohesion between water molecules (hydrogen bonding)"},
  {type:'mcq', q:"Glucose, fructose, and galactose are examples of:", options:["Polysaccharides","Monosaccharides","Disaccharides","Peptides"], answer:"Monosaccharides"},
  {type:'mcq', q:"A glycosidic bond is formed by which process?", options:["Hydrolysis","Oxidation","Condensation (dehydration synthesis)","Phosphorylation"], answer:"Condensation (dehydration synthesis)"},
  {type:'mcq', q:"Which polysaccharide is the primary structural component of plant cell walls?", options:["Cellulose","Starch","Glycogen","Chitin"], answer:"Cellulose"},
  {type:'mcq', q:"Enzymes speed up metabolic reactions by:", options:["Raising the activation energy","Being consumed during the reaction","Changing the equilibrium constant","Lowering the activation energy"], answer:"Lowering the activation energy"},
  {type:'mcq', q:"Which is NOT a function of water in living organisms?", options:["Medium for metabolic reactions","Permanent energy storage as a macromolecule","Transport of dissolved substances","Temperature regulation"], answer:"Permanent energy storage as a macromolecule"},
  {type:'mcq', q:"Glycogen primarily functions as:", options:["Structural support in plant cell walls","A monosaccharide used in photosynthesis","Animal short-term energy storage in liver and muscle","A digestive enzyme"], answer:"Animal short-term energy storage in liver and muscle"},
  {type:'mcq', q:"Which statement about ice is correct?", options:["Ice is less dense than liquid water, so it floats","Ice is more dense than liquid water, so it sinks","Ice cannot form hydrogen bonds","Ice has a lower melting point than most liquids because of polarity"], answer:"Ice is less dense than liquid water, so it floats"},
  {type:'mcq', q:"Photosynthesis is best categorized as a(n):", options:["Catabolic process that releases energy","Anabolic process that builds glucose using light energy","Process that breaks down ATP into ADP without producing new molecules","Exergonic reaction only found in animals"], answer:"Anabolic process that builds glucose using light energy"},
  {type:'mcq', q:"Which of the following is a disaccharide?", options:["Glucose","Fructose","Cellulose","Sucrose"], answer:"Sucrose"},
  {type:'mcq', q:"Which feature provides evidence of common ancestry among diverse organisms?", options:["Different genetic codes between species","Unique metabolic pathways found in only one species","Conserved genes and similar biochemical pathways","Completely different cellular machinery"], answer:"Conserved genes and similar biochemical pathways"},
  {type:'mcq', q:"Capillary action in plants is caused by:", options:["Ice formation","Cohesion and adhesion of water molecules","Enzyme activity in phloem only","The presence of monosaccharides in xylem"], answer:"Cohesion and adhesion of water molecules"},
  {type:'mcq', q:"What happens to an enzyme if the temperature is raised far above its optimum?", options:["It denatures and loses activity","It always becomes more efficient","Its primary sequence changes permanently into a new protein","It turns into a substrate"], answer:"It denatures and loses activity"},
  {type:'mcq', q:"Lactose intolerance results from the inability to digest:", options:["Sucrose","Maltose","Fructose","Lactose"], answer:"Lactose"},
  {type:'mcq', q:"Which molecule is the direct product of ATP hydrolysis that cells use for immediate energy?", options:["AMP + PPi","ADP + glucose","ADP + inorganic phosphate (Pi)","GTP"], answer:"ADP + inorganic phosphate (Pi)"},
  {type:'mcq', q:"The high specific heat of water helps organisms by:", options:["Allowing water to evaporate instantly at low temperatures","Buffering temperature changes to maintain stable internal environments","Preventing water from dissolving salts","Increasing the rate of enzyme denaturation"], answer:"Buffering temperature changes to maintain stable internal environments"},
  {type:'mcq', q:"Which statement about monosaccharides is true?", options:["They are the simplest carbohydrates and are typically sweet and water-soluble","They are insoluble structural polymers used in cell walls","They form when two polysaccharides join","They are proteins that assist in digestion"], answer:"They are the simplest carbohydrates and are typically sweet and water-soluble"},
  {type:'mcq', q:"Anabolic reactions are characterized by:", options:["Releasing large amounts of heat only","Breaking down macromolecules into monomers","Being independent of enzymes","Building complex molecules and consuming energy"], answer:"Building complex molecules and consuming energy"},
  {type:'mcq', q:"Which of the following best explains why organisms in cold climates can survive under frozen surfaces of ponds?", options:["Cold water holds less oxygen than warm water","Ice sinks and mixes nutrients throughout the water column","Ice floats and insulates the liquid water below, protecting aquatic life","Water freezes from the bottom up, keeping surface life alive"], answer:"Ice floats and insulates the liquid water below, protecting aquatic life"},
  {type:'mcq', q:"Which is a structural carbohydrate found in arthropod exoskeletons?", options:["Starch","Chitin","Glycogen","Lactose"], answer:"Chitin"},
  {type:'mcq', q:"Homeostasis depends on metabolism because:", options:["Metabolic reactions provide energy and materials needed to maintain stable internal conditions","Metabolism creates unlimited energy that prevents change","Metabolism directly alters DNA sequences to adapt instantly","Metabolic pathways are only active during sleep"], answer:"Metabolic reactions provide energy and materials needed to maintain stable internal conditions"},
  {type:'mcq', q:"Which property makes water an excellent solvent for biological reactions?", options:["Its nonpolar covalent bonds","Its gaseous state at room temperature","Its inability to hydrogen-bond","Its polarity and ability to form hydrogen bonds"], answer:"Its polarity and ability to form hydrogen bonds"},
  {type:'mcq', q:"Sucrose is formed from which two monosaccharides?", options:["Glucose + Galactose","Glucose + Fructose","Fructose + Galactose","Glucose + Glucose"], answer:"Glucose + Fructose"},
  {type:'mcq', q:"The phrase 'all living things are made of cells' is part of which biological principle?", options:["Theory of Evolution","Law of Independent Assortment","Cell Theory","Hardy-Weinberg Equilibrium"], answer:"Cell Theory"},
  {type:'mcq', q:"Which is true about enzymes and pH?", options:["Each enzyme has an optimal pH range; extreme pH can denature it","All enzymes work best at pH 7 exactly","pH changes only affect substrate, not enzyme activity","Alkaline pH permanently increases enzyme concentration"], answer:"Each enzyme has an optimal pH range; extreme pH can denature it"},
  {type:'mcq', q:"In ecosystems, which process returns inorganic nutrients to the soil for reuse by producers?", options:["Photosynthesis","Decomposition","Primary production","Transpiration"], answer:"Decomposition"}
];

// Shuffle
function shuffleArray(arr){ return arr.sort(() => Math.random() - 0.5); }
shuffleArray(questions);
questions.forEach(q => { if(q.type==='mcq'){ shuffleArray(q.options); } });

const container = document.getElementById('quiz-container');

function renderQuiz(){
    container.innerHTML = '';
    questions.forEach((q, idx)=>{
        const div = document.createElement('div');
        div.classList.add('question');
        div.id = `qdiv${idx}`;
        div.innerHTML = `<p>${idx+1}. ${q.q}</p>`;
        if(q.type==='mcq'){
            div.innerHTML += '<div class="options">' + q.options.map(opt =>
                `<label><input type="radio" name="q${idx}" value="${opt}"> ${opt}</label>`).join('') + '</div>';
        } else if(q.type==='fill'){
            div.innerHTML += `<input type="text" id="q${idx}" placeholder="Type your answer here">`;
        }
        container.appendChild(div);
    });
    document.getElementById('score').innerText = '';
    document.getElementById('submission-message').textContent = '';
}

// Disable quiz
function disableQuiz(){
    const inputs = document.querySelectorAll('#quiz-container input[type="text"], #quiz-container input[type="radio"]');
    inputs.forEach(input => { input.disabled = true; input.style.backgroundColor = '#f0f0f0'; });
    const restartBtn = document.getElementById('restartBtn');
    restartBtn.disabled = true; restartBtn.style.backgroundColor = '#cccccc'; restartBtn.style.cursor = 'not-allowed';
}

// Timer
let remaining = 45*60;
const timerEl = document.getElementById('timer');
function pad(n){ return n.toString().padStart(2,'0'); }
function updateTimer(){
    const min = Math.floor(remaining/60);
    const sec = remaining % 60;
    timerEl.textContent = `${pad(min)}:${pad(sec)}`;
    if(remaining <= 0){ clearInterval(timerId); disableQuiz(); alert('Time is up!'); }
    remaining--;
}
let timerId = setInterval(updateTimer,1000);
updateTimer();

// Check answers, send full quiz to backend
async function checkAnswers(){
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const msgEl = document.getElementById('submission-message');
    msgEl.textContent = '';

    if(!nameInput.value.trim()){ msgEl.textContent="Name is required!"; return; }
    if(!emailInput.value.trim()){ msgEl.textContent="Email is required!"; return; }

    let score = 0;

    const submissionData = questions.map((q, idx) => {
        let userAns;
        const div = document.getElementById(`qdiv${idx}`);
        div.classList.remove('correct','wrong');

        if(q.type==='mcq'){
            const selected = document.querySelector(`input[name="q${idx}"]:checked`);
            userAns = selected ? selected.value : 'No answer';
            if(selected && selected.value === q.answer){ div.classList.add('correct'); score++; }
            else { div.classList.add('wrong'); div.innerHTML += `<p style="color:#01579b;">You answered: ${userAns} | Correct: ${q.answer}</p>`; }
        } else {
            userAns = document.getElementById(`q${idx}`).value.trim() || 'No answer';
            const answers = Array.isArray(q.answer) ? q.answer.map(a=>a.toLowerCase()) : [q.answer.toLowerCase()];
            if(answers.includes(userAns.toLowerCase())){ div.classList.add('correct'); score++; }
            else { div.classList.add('wrong'); div.innerHTML += `<p style="color:#01579b;">You answered: ${userAns} | Correct: ${q.answer[0]}</p>`; }
        }

        return { question: q.q, correctAnswer: q.answer, userAnswer: userAns };
    });

    document.getElementById('score').innerText = `Your score: ${score} / ${questions.length}`;

    disableQuiz();

    // Send to backend
    try {
        const response = await fetch('https://myedu-backend.onrender.com/submit-quiz',{
            method:'POST',
            headers:{ 'Content-Type':'application/json' },
            body: JSON.stringify({ 
                name: nameInput.value.trim(),
                email: emailInput.value.trim(),
                score,
                total: questions.length,
                test: "AP Biology Quiz",
                answers: submissionData
            })
        });
        const result = await response.json();
        msgEl.textContent = result.message || "Quiz submitted successfully!";
    } catch(err){
        console.error(err);
        msgEl.textContent = "Error sending quiz to server.";
    }
}

function restartQuiz(){
    shuffleArray(questions);
    questions.forEach(q => { if(q.type==='mcq'){ shuffleArray(q.options); } });
    renderQuiz();
}

renderQuiz();
</script>

</body>
</html>
